{% extends 'base.html.twig' %}

{% block body %}

	<div class="d-flex justify-content-between mt-4">
		<h1 class="mt-1">Stock enveloppes</h1>
		{% if is_granted('ROLE_ADMIN') %}
			<a href="{{path('envelope_add')}}">
				<button type="button" class="btn btn-primary">Ajouter</button>
			</a>
		{% endif %}
	</div>
	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">Nom</th>
				<th scope="col">Reference</th>
				<th scope="col">Quantité en stock</th>
				<th scope="col">Date de création</th>
				<th scope="col">Derniere modification</th>
			</tr>
		</thead>

		{% for envelope in envelopes %}

			<tr class="table-light">

				<th scope="row">
					<a href="{{path('envelope_read',{'id':envelope.id}) }}">{{envelope.name}}</a>
				</th>

				<td>{{envelope.reference}}</td>
				<td>{{envelope.quantity}}
					ex.</td>
				<td>{{envelope.createdAt|date('d-m-Y') }}</td>
				<td>{{envelope.updatedAt is not null ? envelope.updatedAt|date('d-m-Y')}}</td>
			</tr>
		{% endfor %}

	</table>

{% endblock %}
